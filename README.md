# tergo-money

Расширение Tegro Pay позволяет создавать счета на оплату используя api "https://tegro.money/".

Общая архитектура:
manifest.json - файл конфигураций расширения. Используется версия манифеста v3. Разрешения(permissions) на использование локального хранилища "storage" (для хранения локальных данных) и разрешение запросов на адрес "https://tegro.money/api/*".

icon - В папке хранятся иконки расширения

background_scripts/background.js - background скрипт расширения, нужен для возможности открытия страницы при клике на значок.

В папке panels лежат стили, скрипты и html разметка основной страницы расширения.

Отдельно стоит остановится на скриптах:
md5.min.js - библиотека js для шифрования данных md5
sha256.min.js - библиотека js для шифрования данных sha256

script.js - Здесь описана основная логика по работе:

Функция auth() - отвечает за авторизацию по ключам Public KEY и API KEY, а также валидацию полей авторизации.

функция createPay() - Отвечает для формирования данных оплаты перед отправкой, в том числе шифрование.

Функция createElement() - создает и отправляет форму на оплату

Функция showError() - Выводит ошибки под полями ввода данных.

Функция addLists() - Добавляет и сохраняет параметры счета на оплату после его генерации.

Функция removeList() - Удаляет счет из списка оплату

Функция renderList() - Выводит список сохраненных счетов.
